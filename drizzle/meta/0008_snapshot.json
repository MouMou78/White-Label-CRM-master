{
  "version": "5",
  "dialect": "mysql",
  "id": "dc2665e1-9aeb-4804-bcf2-953654b493fa",
  "prevId": "31e19426-ad63-4ef1-8339-dd4ad2565636",
  "tables": {
    "accounts": {
      "name": "accounts",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenantId": {
          "name": "tenantId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "domain": {
          "name": "domain",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "industry": {
          "name": "industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "employees": {
          "name": "employees",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "revenue": {
          "name": "revenue",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "technologies": {
          "name": "technologies",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "headquarters": {
          "name": "headquarters",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "foundingYear": {
          "name": "foundingYear",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lastFundingRound": {
          "name": "lastFundingRound",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "firstContacted": {
          "name": "firstContacted",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "linkedinUrl": {
          "name": "linkedinUrl",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "enrichmentSource": {
          "name": "enrichmentSource",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "enrichmentSnapshot": {
          "name": "enrichmentSnapshot",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "fitScore": {
          "name": "fitScore",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "intentScore": {
          "name": "intentScore",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "combinedScore": {
          "name": "combinedScore",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "fitTier": {
          "name": "fitTier",
          "type": "enum('A','B','C')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "intentTier": {
          "name": "intentTier",
          "type": "enum('Hot','Warm','Cold')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "scoreReasons": {
          "name": "scoreReasons",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lifecycleStage": {
          "name": "lifecycleStage",
          "type": "enum('Lead','MQL','SQL','Opportunity','ClosedWon','ClosedLost')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'Lead'"
        },
        "lifecycleStageEnteredAt": {
          "name": "lifecycleStageEnteredAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "ownerUserId": {
          "name": "ownerUserId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "tenant_domain_idx": {
          "name": "tenant_domain_idx",
          "columns": [
            "tenantId",
            "domain"
          ],
          "isUnique": false
        },
        "tenant_account_name_idx": {
          "name": "tenant_account_name_idx",
          "columns": [
            "tenantId",
            "name"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "accounts_id": {
          "name": "accounts_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "automationExecutions": {
      "name": "automationExecutions",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenantId": {
          "name": "tenantId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "ruleId": {
          "name": "ruleId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "threadId": {
          "name": "threadId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "personId": {
          "name": "personId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('success','failed','skipped')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "executedAt": {
          "name": "executedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "errorMessage": {
          "name": "errorMessage",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "('{}')"
        }
      },
      "indexes": {
        "tenant_rule_idx": {
          "name": "tenant_rule_idx",
          "columns": [
            "tenantId",
            "ruleId"
          ],
          "isUnique": false
        },
        "tenant_thread_idx": {
          "name": "tenant_thread_idx",
          "columns": [
            "tenantId",
            "threadId"
          ],
          "isUnique": false
        },
        "tenant_executed_idx": {
          "name": "tenant_executed_idx",
          "columns": [
            "tenantId",
            "executedAt"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "automationExecutions_id": {
          "name": "automationExecutions_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "automationRules": {
      "name": "automationRules",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenantId": {
          "name": "tenantId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "triggerType": {
          "name": "triggerType",
          "type": "enum('email_opened','email_replied','no_reply_after_days','meeting_held','stage_entered','deal_value_threshold')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "triggerConfig": {
          "name": "triggerConfig",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "('{}')"
        },
        "actionType": {
          "name": "actionType",
          "type": "enum('move_stage','send_notification','create_task','enroll_sequence','update_field')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "actionConfig": {
          "name": "actionConfig",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "('{}')"
        },
        "status": {
          "name": "status",
          "type": "enum('active','paused')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'active'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "tenant_status_idx": {
          "name": "tenant_status_idx",
          "columns": [
            "tenantId",
            "status"
          ],
          "isUnique": false
        },
        "tenant_trigger_idx": {
          "name": "tenant_trigger_idx",
          "columns": [
            "tenantId",
            "triggerType"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "automationRules_id": {
          "name": "automationRules_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "emailSequenceEnrollments": {
      "name": "emailSequenceEnrollments",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenantId": {
          "name": "tenantId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "sequenceId": {
          "name": "sequenceId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "personId": {
          "name": "personId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "threadId": {
          "name": "threadId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "currentStep": {
          "name": "currentStep",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "enum('active','completed','paused','unsubscribed')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'active'"
        },
        "enrolledAt": {
          "name": "enrolledAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "completedAt": {
          "name": "completedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lastEmailSentAt": {
          "name": "lastEmailSentAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "nextEmailScheduledAt": {
          "name": "nextEmailScheduledAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "totalOpens": {
          "name": "totalOpens",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "totalReplies": {
          "name": "totalReplies",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        }
      },
      "indexes": {
        "tenant_sequence_idx": {
          "name": "tenant_sequence_idx",
          "columns": [
            "tenantId",
            "sequenceId"
          ],
          "isUnique": false
        },
        "tenant_person_idx": {
          "name": "tenant_person_idx",
          "columns": [
            "tenantId",
            "personId"
          ],
          "isUnique": false
        },
        "tenant_status_idx": {
          "name": "tenant_status_idx",
          "columns": [
            "tenantId",
            "status"
          ],
          "isUnique": false
        },
        "tenant_scheduled_idx": {
          "name": "tenant_scheduled_idx",
          "columns": [
            "tenantId",
            "nextEmailScheduledAt"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "emailSequenceEnrollments_id": {
          "name": "emailSequenceEnrollments_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "emailSequenceEvents": {
      "name": "emailSequenceEvents",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "enrollmentId": {
          "name": "enrollmentId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "stepNumber": {
          "name": "stepNumber",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "eventType": {
          "name": "eventType",
          "type": "enum('sent','opened','replied','bounced','unsubscribed')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "('{}')"
        }
      },
      "indexes": {
        "enrollment_timestamp_idx": {
          "name": "enrollment_timestamp_idx",
          "columns": [
            "enrollmentId",
            "timestamp"
          ],
          "isUnique": false
        },
        "enrollment_step_idx": {
          "name": "enrollment_step_idx",
          "columns": [
            "enrollmentId",
            "stepNumber"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "emailSequenceEvents_id": {
          "name": "emailSequenceEvents_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "emailSequenceSteps": {
      "name": "emailSequenceSteps",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "sequenceId": {
          "name": "sequenceId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "stepNumber": {
          "name": "stepNumber",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "delayDays": {
          "name": "delayDays",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "sequence_step_idx": {
          "name": "sequence_step_idx",
          "columns": [
            "sequenceId",
            "stepNumber"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "emailSequenceSteps_id": {
          "name": "emailSequenceSteps_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "emailSequences": {
      "name": "emailSequences",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenantId": {
          "name": "tenantId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('active','paused','archived')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'active'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "tenant_status_idx": {
          "name": "tenant_status_idx",
          "columns": [
            "tenantId",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "emailSequences_id": {
          "name": "emailSequences_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "events": {
      "name": "events",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenantId": {
          "name": "tenantId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "startsAt": {
          "name": "startsAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "endsAt": {
          "name": "endsAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "formSchema": {
          "name": "formSchema",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "defaultIntent": {
          "name": "defaultIntent",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "('warm_intro')"
        },
        "defaultTags": {
          "name": "defaultTags",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "('[]')"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "events_id": {
          "name": "events_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "tenant_slug_unique": {
          "name": "tenant_slug_unique",
          "columns": [
            "tenantId",
            "slug"
          ]
        }
      },
      "checkConstraint": {}
    },
    "integrations": {
      "name": "integrations",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenantId": {
          "name": "tenantId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "provider": {
          "name": "provider",
          "type": "enum('google','amplemarket','whatsapp','apollo')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('connected','disconnected','error')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'disconnected'"
        },
        "config": {
          "name": "config",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "('{}')"
        },
        "oauthTokens": {
          "name": "oauthTokens",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lastSyncedAt": {
          "name": "lastSyncedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "integrations_id": {
          "name": "integrations_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "tenant_provider_unique": {
          "name": "tenant_provider_unique",
          "columns": [
            "tenantId",
            "provider"
          ]
        }
      },
      "checkConstraint": {}
    },
    "moments": {
      "name": "moments",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenantId": {
          "name": "tenantId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "threadId": {
          "name": "threadId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "personId": {
          "name": "personId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "enum('email_sent','email_received','reply_received','call_completed','meeting_held','note_added','signal_detected','lead_captured','deal_won','deal_lost')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "('{}')"
        },
        "externalId": {
          "name": "externalId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "externalSource": {
          "name": "externalSource",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "tenant_thread_timestamp_idx": {
          "name": "tenant_thread_timestamp_idx",
          "columns": [
            "tenantId",
            "threadId",
            "timestamp"
          ],
          "isUnique": false
        },
        "tenant_person_timestamp_idx": {
          "name": "tenant_person_timestamp_idx",
          "columns": [
            "tenantId",
            "personId",
            "timestamp"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "moments_id": {
          "name": "moments_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "nextActions": {
      "name": "nextActions",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenantId": {
          "name": "tenantId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "threadId": {
          "name": "threadId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "actionType": {
          "name": "actionType",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "triggerType": {
          "name": "triggerType",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "triggerValue": {
          "name": "triggerValue",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('open','completed','cancelled')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'open'"
        },
        "assignedUserId": {
          "name": "assignedUserId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "dueAt": {
          "name": "dueAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "completedAt": {
          "name": "completedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "tenant_status_idx": {
          "name": "tenant_status_idx",
          "columns": [
            "tenantId",
            "status"
          ],
          "isUnique": false
        },
        "tenant_assigned_idx": {
          "name": "tenant_assigned_idx",
          "columns": [
            "tenantId",
            "assignedUserId",
            "status"
          ],
          "isUnique": false
        },
        "tenant_due_idx": {
          "name": "tenant_due_idx",
          "columns": [
            "tenantId",
            "dueAt"
          ],
          "isUnique": false
        },
        "tenant_thread_status_idx": {
          "name": "tenant_thread_status_idx",
          "columns": [
            "tenantId",
            "threadId",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "nextActions_id": {
          "name": "nextActions_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "people": {
      "name": "people",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenantId": {
          "name": "tenantId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "accountId": {
          "name": "accountId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "fullName": {
          "name": "fullName",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "firstName": {
          "name": "firstName",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lastName": {
          "name": "lastName",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "primaryEmail": {
          "name": "primaryEmail",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "secondaryEmails": {
          "name": "secondaryEmails",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "('[]')"
        },
        "companyName": {
          "name": "companyName",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "companyDomain": {
          "name": "companyDomain",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "companySize": {
          "name": "companySize",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "roleTitle": {
          "name": "roleTitle",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "simplifiedTitle": {
          "name": "simplifiedTitle",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "manuallyAddedNumber": {
          "name": "manuallyAddedNumber",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "manuallyAddedNumberDncStatus": {
          "name": "manuallyAddedNumberDncStatus",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sourcedNumber": {
          "name": "sourcedNumber",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sourcedNumberDncStatus": {
          "name": "sourcedNumberDncStatus",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "mobileNumber": {
          "name": "mobileNumber",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "mobileNumberDncStatus": {
          "name": "mobileNumberDncStatus",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "workNumber": {
          "name": "workNumber",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "workNumberDncStatus": {
          "name": "workNumberDncStatus",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "city": {
          "name": "city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "state": {
          "name": "state",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "country": {
          "name": "country",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "linkedinUrl": {
          "name": "linkedinUrl",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "industry": {
          "name": "industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "numberOfOpens": {
          "name": "numberOfOpens",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "label": {
          "name": "label",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "meetingBooked": {
          "name": "meetingBooked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "owner": {
          "name": "owner",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sequenceName": {
          "name": "sequenceName",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sequenceTemplateName": {
          "name": "sequenceTemplateName",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "savedSearchOrLeadListName": {
          "name": "savedSearchOrLeadListName",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "mailbox": {
          "name": "mailbox",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "contactUrl": {
          "name": "contactUrl",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "replied": {
          "name": "replied",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "engagementScore": {
          "name": "engagementScore",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "lastStageExecuted": {
          "name": "lastStageExecuted",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lastStageExecutedAt": {
          "name": "lastStageExecutedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tags": {
          "name": "tags",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "('[]')"
        },
        "fitScore": {
          "name": "fitScore",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "intentScore": {
          "name": "intentScore",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "combinedScore": {
          "name": "combinedScore",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "fitTier": {
          "name": "fitTier",
          "type": "enum('A','B','C')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "intentTier": {
          "name": "intentTier",
          "type": "enum('Hot','Warm','Cold')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "scoreReasons": {
          "name": "scoreReasons",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lifecycleStage": {
          "name": "lifecycleStage",
          "type": "enum('Lead','MQL','SQL','Opportunity','ClosedWon','ClosedLost')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'Lead'"
        },
        "lifecycleStageEnteredAt": {
          "name": "lifecycleStageEnteredAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "seniority": {
          "name": "seniority",
          "type": "enum('C-Level','VP','Director','Manager','IC','Other')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "department": {
          "name": "department",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "region": {
          "name": "region",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "enrichmentSource": {
          "name": "enrichmentSource",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "enrichmentSnapshot": {
          "name": "enrichmentSnapshot",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "enrichmentLastSyncedAt": {
          "name": "enrichmentLastSyncedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "tenant_name_idx": {
          "name": "tenant_name_idx",
          "columns": [
            "tenantId",
            "fullName"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "people_id": {
          "name": "people_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "tenant_primary_email_unique": {
          "name": "tenant_primary_email_unique",
          "columns": [
            "tenantId",
            "primaryEmail"
          ]
        }
      },
      "checkConstraint": {}
    },
    "tenants": {
      "name": "tenants",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "domain": {
          "name": "domain",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "domain_idx": {
          "name": "domain_idx",
          "columns": [
            "domain"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "tenants_id": {
          "name": "tenants_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "threads": {
      "name": "threads",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenantId": {
          "name": "tenantId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "personId": {
          "name": "personId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "intent": {
          "name": "intent",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('active','waiting','dormant','closed')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'active'"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lastActivityAt": {
          "name": "lastActivityAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "ownerUserId": {
          "name": "ownerUserId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "collaboratorUserIds": {
          "name": "collaboratorUserIds",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "visibility": {
          "name": "visibility",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'private'"
        },
        "dealSignal": {
          "name": "dealSignal",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "tenant_person_idx": {
          "name": "tenant_person_idx",
          "columns": [
            "tenantId",
            "personId"
          ],
          "isUnique": false
        },
        "tenant_status_idx": {
          "name": "tenant_status_idx",
          "columns": [
            "tenantId",
            "status"
          ],
          "isUnique": false
        },
        "tenant_owner_idx": {
          "name": "tenant_owner_idx",
          "columns": [
            "tenantId",
            "ownerUserId"
          ],
          "isUnique": false
        },
        "tenant_visibility_idx": {
          "name": "tenant_visibility_idx",
          "columns": [
            "tenantId",
            "visibility"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "threads_id": {
          "name": "threads_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tenantId": {
          "name": "tenantId",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "passwordHash": {
          "name": "passwordHash",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "enum('owner','collaborator','restricted')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'owner'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "users_id": {
          "name": "users_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "tenant_email_unique": {
          "name": "tenant_email_unique",
          "columns": [
            "tenantId",
            "email"
          ]
        }
      },
      "checkConstraint": {}
    }
  },
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {},
    "indexes": {}
  }
}